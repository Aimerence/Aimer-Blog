---
title: 'æ›´æ–°ä¸»é¢˜æ•™ç¨‹'
description: 'æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ å¦‚ä½•é€šè¿‡å¤‡ä»½åˆ†æ”¯æ¥å¤„ç†åˆå¹¶upstreamçš„æ›´æ–°ï¼Œå¹¶ä½¿ç”¨--squashé€‰é¡¹æ¥ä¿æŒå¹²å‡€çš„æäº¤å†å²'
pubDatetime: 2025-2-12T14:31:17.000+08:00
modDatetime: 2025-2-12T14:31:18.000+08:00
featured: true
draft: false
tags: ['Git', 'Astro']
---

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦åˆå¹¶ä¸»é¢˜å¼€å‘è€…ï¼ˆupstreamï¼‰çš„è¿œç¨‹ä»“åº“ä»£ç ï¼Œä½†åŒæ—¶å¸Œæœ›ä¿ç•™ä¸€ä¸ªå¹²å‡€çš„æäº¤å†å²è®°å½•ã€‚æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ å¦‚ä½•é€šè¿‡å¤‡ä»½åˆ†æ”¯æ¥å¤„ç†åˆå¹¶upstreamçš„æ›´æ–°ï¼Œå¹¶ä½¿ç”¨`--squash`é€‰é¡¹æ¥å–æ¶ˆåŸä½œè€…çš„æäº¤è®°å½•ã€‚

## 1. å‡†å¤‡å·¥ä½œ

åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿ä½ å·²ç»å®Œæˆä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š

1. **æ·»åŠ upstreamè¿œç¨‹ä»“åº“**ï¼š
   å¦‚æœä½ è¿˜æ²¡æœ‰æ·»åŠ upstreamè¿œç¨‹ä»“åº“ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ·»åŠ ï¼š

   ```bash
   git remote add upstream https://github.com/satnaing/astro-paper.git
   ```

2. **æ£€æŸ¥è¿œç¨‹ä»“åº“**ï¼š
   ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥è¿œç¨‹ä»“åº“çš„çŠ¶æ€ï¼š

   ```bash
   git remote -v
   ```

   è¾“å‡ºç±»ä¼¼å¦‚ä¸‹å†…å®¹ï¼Œè¡¨ç¤ºè¿œç¨‹ä»“åº“å·²æ­£ç¡®æ·»åŠ ï¼š

   ```bash
   origin    https://github.com/your-username/your-repo.git (fetch)
   origin    https://github.com/your-username/your-repo.git (push)
   upstream  https://github.com/theme-developer/theme-repo.git (fetch)
   upstream  https://github.com/theme-developer/theme-repo.git (push)
   ```

3. **åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯**ï¼š
   ç¡®ä¿ä½ å½“å‰åœ¨ä¸»åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯`main`æˆ–`master`ï¼‰ä¸Šï¼š

   ```bash
   git checkout main
   ```

## 2. åˆ›å»ºå¤‡ä»½åˆ†æ”¯

åœ¨åˆå¹¶upstreamçš„æ›´æ–°ä¹‹å‰ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªå¤‡ä»½åˆ†æ”¯ï¼Œä»¥ç¡®ä¿åœ¨æ“ä½œè¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜æ—¶èƒ½å¤Ÿæ¢å¤åˆ°åŸå§‹çŠ¶æ€ã€‚

### åˆ›å»ºå¤‡ä»½åˆ†æ”¯

```bash
git checkout -b main-backup
```

### æ¨é€å¤‡ä»½åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ å¸Œæœ›åœ¨è¿œç¨‹ä»“åº“ä¸­ä¿ç•™å¤‡ä»½åˆ†æ”¯ï¼Œå¯ä»¥å°†å…¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š

```bash
git push origin main-backup
```

## 3. è·å–upstreamæ›´æ–°

æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦ä»upstreamè¿œç¨‹ä»“åº“è·å–æœ€æ–°çš„ä»£ç æ›´æ–°ã€‚

### è·å–upstreamçš„æœ€æ–°ä»£ç 

```bash
git fetch upstream
```

## 4. åˆå¹¶upstreamæ›´æ–°åˆ°å¤‡ä»½åˆ†æ”¯

### åˆ‡æ¢å›å¤‡ä»½åˆ†æ”¯

```bash
git checkout main-backup
```

### ä½¿ç”¨--squashåˆå¹¶upstreamæ›´æ–°

ä½¿ç”¨`--squash`é€‰é¡¹å¯ä»¥å°†upstreamçš„æ‰€æœ‰æäº¤å‹ç¼©ä¸ºä¸€ä¸ªæäº¤ï¼Œä»è€Œå–æ¶ˆåŸä½œè€…çš„æäº¤è®°å½•ï¼š

```bash
git merge --squash upstream/main --allow-unrelated-histories
```

### æäº¤åˆå¹¶ç»“æœ

åˆå¹¶å®Œæˆåï¼Œæäº¤åˆå¹¶ç»“æœï¼š

```bash
git commit -m "Merge updates from upstream"
```

## 5. å°†å¤‡ä»½åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯

åœ¨å¤‡ä»½åˆ†æ”¯ä¸ŠæˆåŠŸåˆå¹¶upstreamçš„æ›´æ–°åï¼Œä½ å¯ä»¥å°†å¤‡ä»½åˆ†æ”¯çš„æ›´æ–°åˆå¹¶åˆ°ä½ çš„ä¸»åˆ†æ”¯ä¸­ã€‚

### åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯

```bash
git checkout main
```

### åˆå¹¶å¤‡ä»½åˆ†æ”¯çš„æ›´æ–°

ç±»ä¼¼äºåˆå¹¶upstreamçš„æ›´æ–°ï¼Œä½ å¯ä»¥ä½¿ç”¨`--squash`é€‰é¡¹æ¥å‹ç¼©å¤‡ä»½åˆ†æ”¯çš„æäº¤ï¼š

```bash
git merge --squash main-backup
```

### æäº¤æœ€ç»ˆåˆå¹¶ç»“æœ

æäº¤åˆå¹¶ç»“æœåˆ°ä¸»åˆ†æ”¯ï¼š

```bash
git commit -m "Merge updates from main-backup"
```

## 6. æ¨é€æ›´æ–°åˆ°è‡ªå·±çš„è¿œç¨‹ä»“åº“

æœ€åï¼Œå°†åˆå¹¶åçš„æ›´æ–°æ¨é€åˆ°è‡ªå·±çš„è¿œç¨‹ä»“åº“ã€‚

### æ¨é€ä¸»åˆ†æ”¯

```bash
git push origin main
```

### åˆ é™¤å¤‡ä»½åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰

å¦‚æœå¤‡ä»½åˆ†æ”¯ä¸å†éœ€è¦ï¼Œå¯ä»¥åˆ é™¤æœ¬åœ°å’Œè¿œç¨‹çš„å¤‡ä»½åˆ†æ”¯ï¼š

#### åˆ é™¤æœ¬åœ°å¤‡ä»½åˆ†æ”¯

```bash
git branch -d main-backup
```

#### åˆ é™¤è¿œç¨‹å¤‡ä»½åˆ†æ”¯

```bash
git push origin --delete main-backup
```

## æ€»ç»“

é€šè¿‡å¤‡ä»½åˆ†æ”¯çš„æ–¹å¼ï¼Œä½ å¯ä»¥å®‰å…¨åœ°åˆå¹¶upstreamçš„æ›´æ–°ï¼ŒåŒæ—¶ä½¿ç”¨`--squash`é€‰é¡¹å–æ¶ˆåŸä½œè€…çš„æäº¤è®°å½•ï¼Œä¿æŒæäº¤å†å²çš„ç®€æ´ã€‚æœ¬æ•™ç¨‹çš„æ“ä½œæµç¨‹å¦‚ä¸‹ï¼š

1. æ·»åŠ upstreamè¿œç¨‹ä»“åº“
2. åˆ›å»ºå¤‡ä»½åˆ†æ”¯
3. è·å–upstreamçš„æœ€æ–°æ›´æ–°
4. ä½¿ç”¨`--squash`åˆå¹¶upstreamæ›´æ–°åˆ°å¤‡ä»½åˆ†æ”¯
5. å°†å¤‡ä»½åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼Œå¹¶ä½¿ç”¨`--squash`å‹ç¼©æäº¤
6. æ¨é€æ›´æ–°åˆ°è‡ªå·±çš„è¿œç¨‹ä»“åº“

è¿™ç§æ–¹æ³•éå¸¸é€‚åˆåœ¨å¼€å‘è¿‡ç¨‹ä¸­åˆå¹¶ä¸»é¢˜å¼€å‘è€…çš„æ›´æ–°ï¼ŒåŒæ—¶ä¿æŒé¡¹ç›®çš„æäº¤å†å²æ•´æ´ã€‚

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œæ¬¢è¿éšæ—¶å‘Šè¯‰æˆ‘ï¼ğŸ˜Š
