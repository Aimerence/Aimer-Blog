---
author: Sat Naing
pubDatetime: 2023-09-25T10:25:54.547Z
title: AstroPaper 3.0
slug: astro-paper-v3
featured: false
ogImage: https://github.com/satnaing/astro-paper/assets/53733092/1ef0cf03-8137-4d67-ac81-84a032119e3a
tags:
  - release
description: "AstroPaper ç‰ˆæœ¬ 3ï¼šé€šè¿‡ Astro v3 å’Œæ— ç¼è§†å›¾è¿‡æ¸¡æå‡æ‚¨çš„ç½‘ç»œä½“éªŒ"
---

æˆ‘ä»¬å¾ˆé«˜å…´å®£å¸ƒ AstroPaper v3 çš„å‘å¸ƒï¼Œå®ƒåŒ…å«äº†æ–°åŠŸèƒ½ã€å¢å¼ºåŠŸèƒ½å’Œé”™è¯¯ä¿®å¤ï¼Œä»¥æå‡æ‚¨çš„ Web å¼€å‘ä½“éªŒã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªç‰ˆæœ¬çš„äº®ç‚¹ï¼š

![AstroPaper v3](@/assets/images/AstroPaper-v3.png)

## ç›®å½•

## åŠŸèƒ½å’Œå˜æ›´

### Astro v3 é›†æˆ

<video autoplay loop="loop" muted="muted" plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/18fdb604-1ca3-41a0-8372-1367759091ff" type="video/mp4">
  <!-- <source src="/assets/docs/astro-paper-v3-view-transitions-demo.mp4" type="video/mp4"> -->
</video>

AstroPaper ç°åœ¨å®Œå…¨æ”¯æŒ [Astro v3](https://astro.build/blog/astro-3/)ï¼Œæä¾›æ›´å¥½çš„æ€§èƒ½å’Œæ¸²æŸ“é€Ÿåº¦ã€‚

æ­¤å¤–ï¼Œæˆ‘ä»¬æ·»åŠ äº†å¯¹ Astro çš„ [ViewTransitions API](https://docs.astro.build/en/guides/view-transitions/) çš„æ”¯æŒï¼Œè®©æ‚¨èƒ½å¤Ÿåˆ›å»ºå¼•äººæ³¨ç›®å’ŒåŠ¨æ€çš„è§†å›¾è¿‡æ¸¡ã€‚

åœ¨"æœ€è¿‘æ–‡ç« "éƒ¨åˆ†ï¼Œåªä¼šæ˜¾ç¤ºéç‰¹è‰²æ–‡ç« ï¼Œä»¥é¿å…é‡å¤å¹¶æ›´å¥½åœ°æ”¯æŒ ViewTransitions APIã€‚

### æ›´æ–° OG å›¾ç‰‡ç”Ÿæˆé€»è¾‘

![ç¤ºä¾‹ OG å›¾ç‰‡](https://user-images.githubusercontent.com/40914272/269252964-a0dc6735-80f7-41ed-8e74-4d4d70f96891.png)

æˆ‘ä»¬æ›´æ–°äº†è‡ªåŠ¨ OG å›¾ç‰‡ç”Ÿæˆçš„é€»è¾‘ï¼Œä½¿å…¶æ›´åŠ å¯é å’Œé«˜æ•ˆã€‚æ­¤å¤–ï¼Œå®ƒç°åœ¨æ”¯æŒæ–‡ç« æ ‡é¢˜ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œç¡®ä¿å‡†ç¡®ã€çµæ´»å’Œå¸å¼•çœ¼çƒçš„ç¤¾äº¤åª’ä½“é¢„è§ˆã€‚

`SITE.ogImage` ç°åœ¨æ˜¯å¯é€‰çš„ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒAstroPaper å°†ä½¿ç”¨ `SITE.title`ã€`SITE.desc` å’Œ `SITE.website` è‡ªåŠ¨ç”Ÿæˆ OG å›¾ç‰‡ã€‚

### ä¸»é¢˜å…ƒæ ‡ç­¾

æ·»åŠ äº†ä¸»é¢˜é¢œè‰²å…ƒæ ‡ç­¾ï¼Œå¯ä»¥åŠ¨æ€é€‚åº”ä¸»é¢˜åˆ‡æ¢ï¼Œç¡®ä¿æ— ç¼çš„ç”¨æˆ·ä½“éªŒã€‚

> æ³¨æ„é¡¶éƒ¨çš„åŒºåˆ«

**_AstroPaper v2 ä¸»é¢˜åˆ‡æ¢_**

<video autoplay loop="loop" muted="muted" plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/3ab5a1e8-1891-4264-a5bb-0ded69143c1a" type="video/mp4">
</video>

**_AstroPaper v3 ä¸»é¢˜åˆ‡æ¢_**

<video autoplay loop="loop" muted="muted" plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/8ac9deb8-d1f8-4029-86bd-6aa0def380b4" type="video/mp4">
</video>

## å…¶ä»–å˜æ›´

### Astro Prettier æ’ä»¶

å†…ç½®å®‰è£…äº† Astro Prettier æ’ä»¶ï¼Œä»¥ä¿æŒé¡¹ç›®æ•´æ´å’Œæœ‰ç»„ç»‡ã€‚

### æ¬¡è¦æ ·å¼å˜æ›´

è§£å†³äº†å•è¡Œä»£ç å—æ¢è¡Œçš„é—®é¢˜ï¼Œä½¿æ‚¨çš„ä»£ç ç‰‡æ®µçœ‹èµ·æ¥æ›´åŠ æ•´æ´ã€‚

æ›´æ–°äº†å¯¼èˆªæ ·å¼ CSSï¼Œä»¥å…è®¸åœ¨å¯¼èˆªä¸­æ·»åŠ æ›´å¤šå¯¼èˆªé“¾æ¥ã€‚

## å‡çº§åˆ° AstroPaper v3

> æœ¬èŠ‚ä»…é€‚ç”¨äºé‚£äº›æƒ³ä»æ—§ç‰ˆæœ¬å‡çº§åˆ° AstroPaper v3 çš„ç”¨æˆ·ã€‚

æœ¬èŠ‚å°†å¸®åŠ©æ‚¨ä» AstroPaper v2 è¿ç§»åˆ° AstroPaper v3ã€‚

åœ¨é˜…è¯»æœ¬èŠ‚çš„å…¶ä½™éƒ¨åˆ†ä¹‹å‰ï¼Œæ‚¨å¯èƒ½è¿˜æƒ³æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://astro-paper.pages.dev/posts/how-to-update-dependencies/)ï¼Œäº†è§£å¦‚ä½•å‡çº§ä¾èµ–é¡¹å’Œ AstroPaperã€‚

## é€‰é¡¹ 1ï¼šå…¨æ–°é‡å¯ï¼ˆæ¨èï¼‰

åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œè¿›è¡Œäº†è®¸å¤šæ›´æ”¹ï¼šæ›¿æ¢æ—§çš„ Astro API ä¸ºæ–°çš„ APIã€é”™è¯¯ä¿®å¤ã€æ–°åŠŸèƒ½ç­‰ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æ˜¯ä¸€ä¸ªæ²¡æœ‰è¿›è¡Œå¤ªå¤šè‡ªå®šä¹‰çš„ç”¨æˆ·ï¼Œæ‚¨åº”è¯¥éµå¾ªè¿™ç§æ–¹æ³•ã€‚

**_æ­¥éª¤ 1ï¼šä¿ç•™æ‰€æœ‰å·²æ›´æ–°çš„æ–‡ä»¶_**

ä¿ç•™æ‰€æœ‰å·²ç»æ›´æ–°çš„æ–‡ä»¶å¾ˆé‡è¦ã€‚è¿™äº›æ–‡ä»¶åŒ…æ‹¬ï¼š

- `/src/config.ts`ï¼ˆåœ¨ v3 ä¸­æœªè§¦åŠï¼‰
- `/src/styles/base.css`ï¼ˆåœ¨ v3 ä¸­æœ‰å°‘é‡æ›´æ”¹ï¼›å¦‚ä¸‹æ‰€è¿°ï¼‰
- `/src/assets/`ï¼ˆåœ¨ v3 ä¸­æœªè§¦åŠï¼‰
- `/public/assets/`ï¼ˆåœ¨ v3 ä¸­æœªè§¦åŠï¼‰
- `/content/blog/`ï¼ˆè¿™æ˜¯æ‚¨çš„åšå®¢å†…å®¹ç›®å½• ğŸ¤·ğŸ»â€â™‚ï¸ï¼‰
- æ‚¨è¿›è¡Œçš„ä»»ä½•å…¶ä»–è‡ªå®šä¹‰æ›´æ”¹ã€‚

```css
/* æ–‡ä»¶ï¼š/src/styles/base.css */
@layer base {
  /* å…¶ä»–ä»£ç  */
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-skin-card-muted;
  }

  /* æ—§ä»£ç 
  code {
    white-space: pre;
    overflow: scroll;
  } 
  */

  /* æ–°ä»£ç  */
  code,
  blockquote {
    word-wrap: break-word;
  }
  pre > code {
    white-space: pre;
  }
}

@layer components {
  /* å…¶ä»–ä»£ç  */
}
```

**_æ­¥éª¤ 2ï¼šç”¨ AstroPaper v3 æ›¿æ¢å…¶ä»–æ‰€æœ‰å†…å®¹_**

åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œé™¤äº†ä¸Šè¿°æ–‡ä»¶/ç›®å½•ï¼ˆåŠ ä¸Šæ‚¨è‡ªå®šä¹‰çš„æ–‡ä»¶/ç›®å½•ï¼‰ä¹‹å¤–ï¼Œç”¨ AstroPaper v3 æ›¿æ¢æ‰€æœ‰å†…å®¹ã€‚

**_æ­¥éª¤ 3ï¼šæ¨¡å¼æ›´æ–°_**

è¯·è®°ä½ï¼Œ`/src/content/_schemas.ts` å·²è¢«æ›¿æ¢ä¸º `/src/content/config.ts`ã€‚

æ­¤å¤–ï¼Œ`/src/content/config.ts` ä¸å†å¯¼å‡º `BlogFrontmatter` ç±»å‹ã€‚

å› æ­¤ï¼Œéœ€è¦å°†æ–‡ä»¶ä¸­çš„æ‰€æœ‰ `BlogFrontmatter` ç±»å‹æ›´æ–°ä¸º `CollectionEntry<"blog">["data"]`ã€‚

ä¾‹å¦‚ï¼š`src/components/Card.tsx`

```ts
// AstroPaper v2
import type { BlogFrontmatter } from "@content/_schemas";

export interface Props {
  href?: string;
  frontmatter: BlogFrontmatter;
  secHeading?: boolean;
}
```

```ts
// AstroPaper v3
import type { CollectionEntry } from "astro:content";

export interface Props {
  href?: string;
  frontmatter: CollectionEntry<"blog">["data"];
  secHeading?: boolean;
}
```

## é€‰é¡¹ 2ï¼šä½¿ç”¨ Git å‡çº§

ä¸å»ºè®®å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œæ‚¨åº”è¯¥æ‰§è¡Œ"é€‰é¡¹ 1"ã€‚åªæœ‰åœ¨æ‚¨çŸ¥é“å¦‚ä½•è§£å†³åˆå¹¶å†²çªå¹¶ä¸”çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆçš„æƒ…å†µä¸‹æ‰è¿™æ ·åšã€‚

å®é™…ä¸Šï¼Œæˆ‘å·²ç»ä¸ºè¿™ç§æƒ…å†µå†™äº†ä¸€ç¯‡åšå®¢æ–‡ç« ï¼Œæ‚¨å¯ä»¥åœ¨[è¿™é‡Œ](https://astro-paper.pages.dev/posts/how-to-update-dependencies/#updating-astropaper-using-git)æŸ¥çœ‹ã€‚

## ç»“è¯­

å‡†å¤‡å¥½æ¢ç´¢ AstroPaper v3 ä¸­ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›äº†å—ï¼Ÿç«‹å³å¼€å§‹[ä½¿ç”¨ AstroPaper](https://github.com/satnaing/astro-paper)ã€‚

æœ‰å…³å…¶ä»–é”™è¯¯ä¿®å¤å’Œé›†æˆæ›´æ–°ï¼Œè¯·æŸ¥çœ‹[å‘å¸ƒè¯´æ˜](https://github.com/satnaing/astro-paper/releases/tag/v3.0.0)äº†è§£æ›´å¤šä¿¡æ¯ã€‚

å¦‚æœæ‚¨åœ¨å‡çº§è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é”™è¯¯æˆ–å›°éš¾ï¼Œè¯·éšæ—¶åœ¨ [GitHub](https://github.com/satnaing/astro-paper) ä¸Šæå‡ºé—®é¢˜æˆ–å¼€å§‹è®¨è®ºã€‚
